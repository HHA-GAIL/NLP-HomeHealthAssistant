<decision_tables>
<decision_table>
<table_name>Test_Heart_Rate</table_name>
<xls_file>HeartRate.xls</xls_file>
<attribute_fields>
<TYPE>FIRST</TYPE>
<COMMENTS>the decision table is used to test the rule engine</COMMENTS>
<POLICY_REFERENCE></POLICY_REFERENCE></attribute_fields>
<contexts>
<context_details>
<context_number>1</context_number>
<context_comment></context_comment>
<context_description>local boolean hasExercise = the boolean value of callfunction(&quot;HRAskForExercise&lt;void&gt;()&quot;)</context_description>
<context_postfix>
&quot;HRAskForExercise&lt;void&gt;()&quot;  callfunction cvb allocate execute deallocate pop 
</context_postfix></context_details>
<context_details>
<context_number>2</context_number>
<context_comment></context_comment>
<context_description>local double average =  the double value of callfunction(&quot;CalculateHRAverage7&lt;int&gt;(&quot;+patient&apos;s patientID+&quot;)&quot;)</context_description>
<context_postfix>
&quot;CalculateHRAverage7&lt;int&gt;(&quot; patient entitypush patientID entitypop strconcat &quot;)&quot; strconcat  callfunction  cvr allocate execute deallocate pop 
</context_postfix></context_details>
<context_details>
<context_number>3</context_number>
<context_comment></context_comment>
<context_description>local entity recentHR</context_description>
<context_postfix>
null allocate execute deallocate pop 
</context_postfix></context_details>
<context_details>
<context_number>4</context_number>
<context_comment></context_comment>
<context_description>local string str = &quot;asdfasdfFF&quot;</context_description>
<context_postfix>
&quot;asdfasdfFF&quot; cvs allocate execute deallocate pop 
</context_postfix></context_details></contexts>
<initial_actions>
<initial_action_details>
<intial_action_number>1</intial_action_number>
<initial_action_comment></initial_action_comment>
<initial_action_requirement></initial_action_requirement>
<initial_action_description>sort HR_Devs in descending order by $DateTime</initial_action_description>
<initial_action_postfix>
HR_Devs /DateTime false sortentities 
</initial_action_postfix></initial_action_details>
<initial_action_details>
<intial_action_number>2</intial_action_number>
<initial_action_comment></initial_action_comment>
<initial_action_requirement></initial_action_requirement>
<initial_action_description>set recentHR = HR_Devs[0]</initial_action_description>
<initial_action_postfix>
HR_Devs 0 getat cve 2 local!  
</initial_action_postfix></initial_action_details></initial_actions>
<conditions>
<condition_details>
<condition_number>1</condition_number>
<condition_comment></condition_comment>
<condition_requirement></condition_requirement>
<condition_description>hasExercise == true and recentHR&apos;s hR &gt; 1.5*average and recentHR&apos;s hR &lt;= 2*average</condition_description>
<condition_postfix>
0 local@  true beq { pop 2 local@  entitypush hR entitypop 1.5 1 local@  fmul f&gt; } over if
{ pop 2 local@  entitypush hR entitypop 2 1 local@  fmul f&lt;= } over if

</condition_postfix>
<condition_column column_value="Y" column_number="1"></condition_column></condition_details>
<condition_details>
<condition_number>2</condition_number>
<condition_comment></condition_comment>
<condition_requirement></condition_requirement>
<condition_description>hasExercise == true and recentHR&apos;s hR &gt; 1.2*average and recentHR&apos;s hR &lt;= 1.5*average</condition_description>
<condition_postfix>
0 local@  true beq { pop 2 local@  entitypush hR entitypop 1.2 1 local@  fmul f&gt; } over if
{ pop 2 local@  entitypush hR entitypop 1.5 1 local@  fmul f&lt;= } over if

</condition_postfix>
<condition_column column_value="Y" column_number="2"></condition_column></condition_details>
<condition_details>
<condition_number>3</condition_number>
<condition_comment></condition_comment>
<condition_requirement></condition_requirement>
<condition_description>hasExercise == true and recentHR&apos;s hR &lt;= 1.2*average</condition_description>
<condition_postfix>
0 local@  true beq { pop 2 local@  entitypush hR entitypop 1.2 1 local@  fmul f&lt;= } over if

</condition_postfix>
<condition_column column_value="Y" column_number="3"></condition_column></condition_details>
<condition_details>
<condition_number>4</condition_number>
<condition_comment></condition_comment>
<condition_requirement></condition_requirement>
<condition_description>hasExercise == false and recentHR&apos;s hR &lt;= 1.2*average</condition_description>
<condition_postfix>
0 local@  false beq { pop 2 local@  entitypush hR entitypop 1.2 1 local@  fmul f&lt;= } over if

</condition_postfix>
<condition_column column_value="Y" column_number="4"></condition_column></condition_details>
<condition_details>
<condition_number>5</condition_number>
<condition_comment></condition_comment>
<condition_requirement></condition_requirement>
<condition_description>hasExercise == false and recentHR&apos;s hR &gt; 1.2*average and recentHR&apos;s hR &lt;= 1.5*average</condition_description>
<condition_postfix>
0 local@  false beq { pop 2 local@  entitypush hR entitypop 1.2 1 local@  fmul f&gt; } over if
{ pop 2 local@  entitypush hR entitypop 1.5 1 local@  fmul f&lt;= } over if

</condition_postfix>
<condition_column column_value="Y" column_number="5"></condition_column></condition_details>
<condition_details>
<condition_number>6</condition_number>
<condition_comment></condition_comment>
<condition_requirement></condition_requirement>
<condition_description>hasExercise == false and recentHR&apos;s hR &gt; 1.5*average and recentHR&apos;s hR &lt;= 2*average</condition_description>
<condition_postfix>
0 local@  false beq { pop 2 local@  entitypush hR entitypop 1.5 1 local@  fmul f&gt; } over if
{ pop 2 local@  entitypush hR entitypop 2 1 local@  fmul f&lt;= } over if

</condition_postfix>
<condition_column column_value="Y" column_number="6"></condition_column></condition_details>
<condition_details>
<condition_number>7</condition_number>
<condition_comment></condition_comment>
<condition_requirement></condition_requirement>
<condition_description>recentHR&apos;s hR &gt; 2*average</condition_description>
<condition_postfix>
2 local@  entitypush hR entitypop 2 1 local@  fmul f&gt; 
</condition_postfix>
<condition_column column_value="Y" column_number="7"></condition_column></condition_details>
<condition_details>
<condition_number>8</condition_number>
<condition_comment></condition_comment>
<condition_requirement></condition_requirement>
<condition_description>str matches &quot;asdf&quot;</condition_description>
<condition_postfix>
&quot;asdf&quot; 3 local@  regexmatch 
</condition_postfix>
<condition_column column_value="Y" column_number="8"></condition_column></condition_details></conditions>
<actions>
<action_details>
<action_number>1</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>add a new result entity to the context of this table</action_description>
<action_postfix>
/result createentity entitypush 
</action_postfix>
<action_column column_value="X" column_number="1"></action_column>
<action_column column_value="X" column_number="2"></action_column>
<action_column column_value="X" column_number="3"></action_column>
<action_column column_value="X" column_number="4"></action_column>
<action_column column_value="X" column_number="5"></action_column>
<action_column column_value="X" column_number="6"></action_column>
<action_column column_value="X" column_number="7"></action_column></action_details>
<action_details>
<action_number>2</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>add the result to the patient&apos;s results</action_description>
<action_postfix>
result patient entitypush results swap addto entitypop 
</action_postfix>
<action_column column_value="X" column_number="1"></action_column>
<action_column column_value="X" column_number="2"></action_column>
<action_column column_value="X" column_number="3"></action_column>
<action_column column_value="X" column_number="4"></action_column>
<action_column column_value="X" column_number="5"></action_column>
<action_column column_value="X" column_number="6"></action_column>
<action_column column_value="X" column_number="7"></action_column></action_details>
<action_details>
<action_number>3</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultCode = 10</action_description>
<action_postfix>
10  cvi result entitypush /resultCode xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="1"></action_column>
<action_column column_value="X" column_number="4"></action_column></action_details>
<action_details>
<action_number>4</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultMessage = &quot;Normal...&quot;</action_description>
<action_postfix>
&quot;Normal...&quot; cvs result entitypush /resultMessage xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="1"></action_column>
<action_column column_value="X" column_number="4"></action_column></action_details>
<action_details>
<action_number>5</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultCode = 11</action_description>
<action_postfix>
11  cvi result entitypush /resultCode xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="2"></action_column>
<action_column column_value="X" column_number="3"></action_column></action_details>
<action_details>
<action_number>6</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultMessage = &quot;Good Health...&quot;</action_description>
<action_postfix>
&quot;Good Health...&quot; cvs result entitypush /resultMessage xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="2"></action_column></action_details>
<action_details>
<action_number>7</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultMessage = &quot;Very excellent Health...&quot;</action_description>
<action_postfix>
&quot;Very excellent Health...&quot; cvs result entitypush /resultMessage xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="3"></action_column></action_details>
<action_details>
<action_number>8</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultCode = 12</action_description>
<action_postfix>
12  cvi result entitypush /resultCode xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="5"></action_column></action_details>
<action_details>
<action_number>9</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultMessage = &quot;Need to care about your health...&quot;</action_description>
<action_postfix>
&quot;Need to care about your health...&quot; cvs result entitypush /resultMessage xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="5"></action_column></action_details>
<action_details>
<action_number>10</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultCode = 13</action_description>
<action_postfix>
13  cvi result entitypush /resultCode xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="6"></action_column>
<action_column column_value="X" column_number="7"></action_column></action_details>
<action_details>
<action_number>11</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultMessage = &quot;Something wrong with your health... Need to to to hospital to examine your heart or blood pressure.&quot;</action_description>
<action_postfix>
&quot;Something wrong with your health... Need to to to hospital to examine your heart or blood pressure.&quot; cvs result entitypush /resultMessage xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="6"></action_column>
<action_column column_value="X" column_number="7"></action_column></action_details>
<action_details>
<action_number>12</action_number>
<action_comment></action_comment>
<action_requirement></action_requirement>
<action_description>set the result&apos;s resultMessage = result&apos;s resultMessage + &quot;...Your recent HR is: &quot;+recentHR&apos;s hR+&quot;...And your recent data&apos;s average is: &quot;+average+&quot;...Recent date time is: &quot; + recentHR&apos;s dateTime</action_description>
<action_postfix>
result entitypush resultMessage &quot;...Your recent HR is: &quot; strconcat 2 local@  entitypush hR entitypop strconcat &quot;...And your recent data&apos;s average is: &quot; strconcat 1 local@  strconcat &quot;...Recent date time is: &quot; strconcat 2 local@  entitypush dateTime entitypop strconcat entitypop cvs result entitypush /resultMessage xdef  entitypop 
</action_postfix>
<action_column column_value="X" column_number="1"></action_column>
<action_column column_value="X" column_number="2"></action_column>
<action_column column_value="X" column_number="3"></action_column>
<action_column column_value="X" column_number="4"></action_column>
<action_column column_value="X" column_number="5"></action_column>
<action_column column_value="X" column_number="6"></action_column>
<action_column column_value="X" column_number="7"></action_column></action_details></actions>
<policy_statements></policy_statements></decision_table></decision_tables>